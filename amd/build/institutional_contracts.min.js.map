{"version":3,"file":"institutional_contracts.min.js","sources":["../src/institutional_contracts.js"],"sourcesContent":["import * as Ajax from 'core/ajax';\nimport $ from 'jquery';\n\nconst createContractButton = $('#create-contract-button');\nconst removeContractButtons = $('.remove-contract');\nconst removeContractConfirmButton = $('#remove-contract-confirm-button');\nconst confirmContractDeletionModal = $('#confirmContractDeletionModal');\n\nconst viewUserDetailsButtons = $('.view-details-button');\nconst userInfoName = $('#user-info-name');\nconst userInfoEmail = $('#user-info-email');\nconst userInfoAvatar = $('#user-info-avatar');\nconst viewUserProfileButton = $('#view-profile-button');\nconst userInfoContractList = $('#user-info-contract-list');\nconst confirmContractUserDeletionModal = $('#confirmContractUserDeletionModal');\nconst confirmContractUserDeletionButton = $('#remove-contract-user-confirm-button');\n\nconst selectedUserInput = $('#selected-user')\nconst contractSelectInput = $('#contractlist')\nconst coursesSelectInput = $('#courselist')\nconst newContractUserInputs = [selectedUserInput,contractSelectInput,coursesSelectInput]\nconst addUserButton = $('#add-user-button')\n\nconst generateEnrolLinkModal = $('#generateEnrolLinkModal');\nconst enrolLinkContractListSelect = $('#enrolLinkContractList');\nconst enrolLinkCourseListSelect = $('#enrolLinkCourseList');\nconst enrolLinkInputs = [enrolLinkContractListSelect,enrolLinkCourseListSelect];\nconst enrolLinkGenerateButton = $('#generate-enrol-button');\n\nconst genetaredLinkInfoModal = $('#generatedLinkInfoModal')\nconst enrolLinkExpirationDateContainer = $('#enrolLinkExpirationDate');\nconst enrolLinkUrlContainer = $('#enrolLinkUrl');\nconst enrolUrlClipboardCopyButton = $('#enrolUrlClipboardCopy');\n\nconst bulkUserContractInput = $('#upload_massive_inst_users');\nconst bulkConfirmModal = $('#bulkConfirmModal');\nconst bulkConfirmModalButton = $('#bulkConfirmModalButton');\nconst bulkCancelModalButton = $('#bulkCancelModalButton');\nconst bulkReportModal = $('#bulkReportModal');\nconst bulkResultTableBody = $('#bulkResultTableBody');\nconst bulkReportContinueButton = $('#bulk-report-continue');\n\nconst contractSearch = $('#contract-search');\nconst contractUserSearch = $('#contract-user-search');\nconst contractApplyFilterButton = $('#contract-apply-filter-button');\nconst userContractApplyFilterButton =$('#user-contract-apply-filter-button');\nconst contractRemoveFilterButton =$('#contract-remove-filter-button');\nconst userContractRemoveFilterButton =$('#user-contract-remove-filter-button');\n\nconst contractIcon = window.location.href + '/theme/image.php?theme=soluttolmsadmin&amp;component=local_grupomakro_core&amp;image=t%2Fcontract';\n\nconst errorModal = $('#errorModal');\nconst errorModalContent = $('#error-modal-content');\n\nlet selectedInstitutionId;\nlet selectedContractId;\nlet selectedUser;\nlet selectedInstitutionContractUsers\nlet availableUsers;\nlet selectedUserToBeCreated\nlet institutionContracts\nlet selectedContractUserId\nlet generatedEnrolLinkUrl\nlet bulkFile;\n\nexport const init = (institutionId, institutionContractUsers,users,contractNames) => {\n    selectedInstitutionContractUsers=institutionContractUsers;\n    selectedInstitutionId = institutionId\n    availableUsers=users\n    institutionContracts=contractNames\n    handleCreateContractButtonClick()\n    handleRemoveContractButtonClick()\n    handleRemoveContractConfirmButtonClick()\n    handleRemoveContractUserConfirmButtonClick()\n    handleViewUserDetailsButton()\n    handleViewUserProfileButtonClick();\n    handleDeleteUserContractLinkButtonClick();\n    handleUserCreation();\n    handleEnrolLinkGenerateButtonClick()\n    handleEnrolUrlClipboardCopyButton()\n    handleBulkContractUserInput()\n    handleAddFilters()\n    handleRemoveFilters()\n};\n\nconst handleRemoveFilters = () => {\n    contractRemoveFilterButton.click(()=>{\n        const queryParams = new URLSearchParams(window.location.search);\n        const contractUserFilter = queryParams.get('contractUserFilter')\n        window.location.href = `/local/grupomakro_core/pages/institutionalcontracts.php?id=${selectedInstitutionId}${contractUserFilter? `&contractUserFilter=${contractUserFilter}` : ''}`\n    })\n    \n    userContractRemoveFilterButton.click(()=>{\n        const queryParams = new URLSearchParams(window.location.search);\n        const contractFilter = queryParams.get('contractFilter')\n        window.location.href = `/local/grupomakro_core/pages/institutionalcontracts.php?id=${selectedInstitutionId}${contractFilter? `&contractFilter=${contractFilter}` : ''}#users`\n    })\n}\n\nconst handleAddFilters = () => {\n    contractApplyFilterButton.click(()=>{\n        const queryParams = new URLSearchParams(window.location.search);\n        const contractUserFilter = queryParams.get('contractUserFilter')\n        window.location.href = `/local/grupomakro_core/pages/institutionalcontracts.php?id=${selectedInstitutionId}&contractFilter=${contractSearch.val()}${contractUserFilter? `&contractUserFilter=${contractUserFilter}` : ''}`\n        \n    })\n    userContractApplyFilterButton.click(()=>{\n        const queryParams = new URLSearchParams(window.location.search);\n        const contractFilter = queryParams.get('contractFilter')\n        window.location.href = `/local/grupomakro_core/pages/institutionalcontracts.php?id=${selectedInstitutionId}&contractUserFilter=${contractUserSearch.val()}${contractFilter? `&contractFilter=${contractFilter}` : ''}#users`\n    })\n}\n\nconst handleBulkContractUserInput = () => {\n    bulkReportContinueButton.click(()=>{\n        window.location.reload()\n    })\n    \n    bulkUserContractInput.on('change',(event)=>{\n        bulkFile = event.target.files[0];\n        bulkConfirmModal.modal('show')\n        console.log(bulkFile);\n    })\n    \n    bulkConfirmModalButton.click(async()=>{\n        const formData = new FormData();\n        formData.append('file', bulkFile);\n        formData.append('token', '33513bec0b3469194c7756c29bf9fb33');\n        const fetchParams = {\n            method: 'POST',\n            body:formData\n        }\n        try{\n            let bulkCSVUploadResponse = await window.fetch(`${window.location.href}/webservice/upload.php`, fetchParams)\n            if (!bulkCSVUploadResponse.ok) {\n                throw new Error('Request failed with status: ' + bulkCSVUploadResponse.status);\n            }\n            bulkCSVUploadResponse = await bulkCSVUploadResponse.json();\n            bulkCSVUploadResponse = bulkCSVUploadResponse[0]\n            const args = {\n                contextId:bulkCSVUploadResponse.contextid,\n                itemId:bulkCSVUploadResponse.itemid,\n                filename:bulkCSVUploadResponse.filename\n            }\n            const bulkEnrolResponse =await Ajax.call([{\n                methodname: 'local_grupomakro_bulk_create_contract_user',\n                args\n            }])[0];\n            if(!bulkEnrolResponse.result)throw bulkEnrolResponse.message\n            const bulkResults = JSON.parse(bulkEnrolResponse.result)\n            console.log(bulkResults);\n            bulkConfirmModal.modal('hide')\n            bulkReportModal.modal('show');\n            \n            let bulkResultTableRowsHtmlString = ''\n            bulkResults.errors.forEach(record => {\n                bulkResultTableRowsHtmlString+=`<tr class=\"inserted-error\">\n                      <th scope=\"row\">${record.index}</th>\n                      <td>${record.error}</td>\n                    </tr>`\n            })\n            \n            bulkResultTableBody.html(bulkResultTableRowsHtmlString)\n            \n        }catch (error){\n            errorModalContent.html(`<p class=\"text-center\">${error}</p>`);\n            errorModal.modal('show');\n            console.error(error);\n        }finally{\n            return;\n        }\n    })\n    \n    bulkCancelModalButton.click(()=>{\n        bulkConfirmModal.modal('hide')\n        bulkFile=undefined;\n    })\n\n}\n\nconst handleEnrolUrlClipboardCopyButton = () => {\n    enrolUrlClipboardCopyButton.click(()=>{\n        window.navigator.clipboard.writeText(generatedEnrolLinkUrl)\n        window.alert('Se ha copiado la url')\n    })\n}\n\nconst handleEnrolLinkGenerateButtonClick = () => {\n    enrolLinkGenerateButton.click(()=>{\n        // Check the select inputs and the time inputs\n        const valid = enrolLinkInputs.every(input => {\n            return input.get(0).reportValidity();\n        });\n        if (!valid) {\n            return;\n        }\n        //\n        const args = {\n            contractId:enrolLinkContractListSelect.val(),\n            courseId:enrolLinkCourseListSelect.val()\n        };\n        const promise = Ajax.call([{\n            methodname: 'local_grupomakro_generate_contract_enrol_link',\n            args\n        }, ]);\n        promise[0].done(function(response) {\n            if(response.contractEnrolLink === '-1' ){\n                errorModalContent.html(`<p class=\"text-center\">${response.message}</p>`);\n                errorModal.modal('show');\n                return   \n            }\n            generateEnrolLinkModal.modal('hide');\n            enrolLinkExpirationDateContainer.text(response.expirationDate);\n            enrolLinkUrlContainer.text(response.contractEnrolLink);\n            generatedEnrolLinkUrl = response.contractEnrolLink\n            genetaredLinkInfoModal.modal('show');\n        }).fail(function(error) {\n            console.error(error)\n        });\n        \n    })\n}\n\nconst handleUserCreation = () => {\n    addUserButton.click(()=>{\n        selectedUserInput.get(0).setCustomValidity('');\n        // Check the select inputs and the time inputs\n        \n        const valid = newContractUserInputs.every(input => {\n            return input.get(0).reportValidity();\n        });\n        if (!valid) {\n            return;\n        }\n        //\n        \n        if(!selectedUserToBeCreated) {\n            selectedUserInput.get(0).setCustomValidity('Este usuario no existe.');\n            selectedUserInput.get(0).reportValidity();\n            return;\n        }\n        \n        const args = {\n            userId:selectedUserToBeCreated.id,\n            contractId:contractSelectInput.val(),\n            courseIds: coursesSelectInput.val().join(',') \n        };\n        const promise = Ajax.call([{\n            methodname: 'local_grupomakro_create_contract_user',\n            args\n        }, ]);\n        promise[0].done(function(response) {\n            if(!response.result){\n                errorModalContent.html(`<p class=\"text-center\">${response.message}</p>`);\n                errorModal.modal('show');\n            }\n            const parsedResponse = JSON.parse(response.result)\n            console.log(parsedResponse);\n            if(!parsedResponse.success.length ){\n                \n                errorModalContent.html(`<p class=\"text-center\">${parsedResponse.failure[0].message}</p>`);\n                errorModal.modal('show');\n                return   \n            }\n            window.location.reload()\n        }).fail(function(error) {\n            console.error(error)\n        });\n    })\n    \n    selectedUserInput.on('input',()=>{\n        selectedUserToBeCreated = availableUsers.find(user=>user.username ===selectedUserInput.val())\n        if(!selectedUserToBeCreated) {\n            contractSelectInput.prop('disabled',true)\n            return\n        }\n        contractSelectInput.removeAttr('disabled')\n    })\n    \n}\n\nconst handleDeleteUserContractLinkButtonClick = ()=> {\n    const deleteUserContractLinkButtons = $('.delete-contract-user-link')\n    deleteUserContractLinkButtons.click(event=>{\n        selectedContractUserId = event.currentTarget.attributes['contract-user-id'].value\n        confirmContractUserDeletionModal.modal('show')\n    })\n    \n    \n}\n\nconst handleRemoveContractUserConfirmButtonClick = () => {\n    confirmContractUserDeletionButton.click(()=>{\n        if(!selectedContractUserId)return\n        const args = {\n            id:selectedContractUserId\n        };\n        const promise = Ajax.call([{\n            methodname: 'local_grupomakro_delete_contract_user',\n            args\n        }, ]);\n        promise[0].done(function(response) {\n            if(response.deletedContractUserId === -1 ){\n                confirmContractUserDeletionModal.modal('hide')\n                errorModalContent.html(`<p class=\"text-center\">${response.message}</p>`);\n                errorModal.modal('show');\n                return   \n            }\n            window.location.reload()\n        }).fail(function(error) {\n            console.error(error)\n        });\n    })\n    \n}\n\nconst handleViewUserProfileButtonClick = () =>{\n    viewUserProfileButton.click(()=>{\n        window.open(selectedUser.profileUrl,'blank')\n    })\n}\n\nconst handleCreateContractButtonClick = () => {\n    createContractButton.click(()=>{\n        window.location.href = `/local/grupomakro_core/pages/createcontractinstitutional.php?id=${selectedInstitutionId}`\n    })\n}\n\nconst handleRemoveContractButtonClick = () => {\n    removeContractButtons.click(event=>{\n        selectedContractId = event.currentTarget.attributes['contract-id'].value\n    })\n}\n\nconst handleRemoveContractConfirmButtonClick = ()=> {\n    removeContractConfirmButton.click(()=>{\n        const args = {\n            id:selectedContractId,\n        };\n        const promise = Ajax.call([{\n            methodname: 'local_grupomakro_delete_institution_contract',\n            args\n        }, ]);\n        promise[0].done(function(response) {\n            if(response.deletedInstitutionContractId === -1 ){\n                confirmContractDeletionModal.modal('hide')\n                errorModalContent.html(`<p class=\"text-center\">${response.message}</p>`);\n                errorModal.modal('show');\n                return   \n            }\n            window.location.reload()\n        }).fail(function(error) {\n            console.error(error)\n        });\n    })\n}\n\nconst handleViewUserDetailsButton = () => {\n    viewUserDetailsButtons.click((event)=> {\n        selectedUser = selectedInstitutionContractUsers[event.currentTarget.attributes['contract-user-id'].value]\n        userInfoName.text(selectedUser.fullname)\n        userInfoName.attr('href',selectedUser.profileUrl)\n        userInfoEmail.text(selectedUser.email)\n        userInfoAvatar.attr('src',selectedUser.avatar)\n        \n        let contractsHtmlString = ''\n        selectedUser.contracts.forEach(contract=>{\n            contractsHtmlString+=`\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n                <div class=\"contracicon d-flex align-items-center\">\n                    <img class=\"icon \" alt=\"\" aria-hidden=\"true\" src=\"${contractIcon}\">\n                    <span class=\"ml-2\">${contract.contractId}</span>\n                    <span class=\"ml-2\">${contract.courseName}</span>\n                </div>\n                <a href=\"#\" class=\"text-secondary delete-contract-user-link\" contract-user-id=\"${contract.id}\">\n                    <i class=\"fa fa-trash\" style=\"font-size:20px\"></i>\n                </a>\n            </li>`\n        })\n        \n        userInfoContractList.html(contractsHtmlString)\n        handleDeleteUserContractLinkButtonClick()\n    })\n}"],"names":["selectedInstitutionId","selectedContractId","selectedUser","selectedInstitutionContractUsers","availableUsers","selectedUserToBeCreated","selectedContractUserId","generatedEnrolLinkUrl","bulkFile","createContractButton","removeContractButtons","removeContractConfirmButton","confirmContractDeletionModal","viewUserDetailsButtons","userInfoName","userInfoEmail","userInfoAvatar","viewUserProfileButton","userInfoContractList","confirmContractUserDeletionModal","confirmContractUserDeletionButton","selectedUserInput","contractSelectInput","coursesSelectInput","newContractUserInputs","addUserButton","generateEnrolLinkModal","enrolLinkContractListSelect","enrolLinkCourseListSelect","enrolLinkInputs","enrolLinkGenerateButton","genetaredLinkInfoModal","enrolLinkExpirationDateContainer","enrolLinkUrlContainer","enrolUrlClipboardCopyButton","bulkUserContractInput","bulkConfirmModal","bulkConfirmModalButton","bulkCancelModalButton","bulkReportModal","bulkResultTableBody","bulkReportContinueButton","contractSearch","contractUserSearch","contractApplyFilterButton","userContractApplyFilterButton","contractRemoveFilterButton","userContractRemoveFilterButton","contractIcon","window","location","href","errorModal","errorModalContent","institutionId","institutionContractUsers","users","contractNames","handleCreateContractButtonClick","handleRemoveContractButtonClick","handleRemoveContractConfirmButtonClick","handleRemoveContractUserConfirmButtonClick","handleViewUserDetailsButton","handleViewUserProfileButtonClick","handleDeleteUserContractLinkButtonClick","handleUserCreation","handleEnrolLinkGenerateButtonClick","handleEnrolUrlClipboardCopyButton","handleBulkContractUserInput","handleAddFilters","handleRemoveFilters","click","contractUserFilter","URLSearchParams","search","get","contractFilter","val","reload","on","event","target","files","modal","console","log","formData","FormData","append","fetchParams","method","body","fetch","bulkCSVUploadResponse","ok","Error","status","json","args","contextId","contextid","itemId","itemid","filename","Ajax","call","methodname","bulkEnrolResponse","result","message","bulkResults","JSON","parse","bulkResultTableRowsHtmlString","errors","forEach","record","index","error","html","undefined","navigator","clipboard","writeText","alert","every","input","reportValidity","contractId","courseId","done","response","contractEnrolLink","text","expirationDate","fail","setCustomValidity","userId","id","courseIds","join","parsedResponse","success","length","failure","find","user","username","removeAttr","prop","currentTarget","attributes","value","deletedContractUserId","open","profileUrl","deletedInstitutionContractId","fullname","attr","email","avatar","contractsHtmlString","contracts","contract","courseName"],"mappings":"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"}