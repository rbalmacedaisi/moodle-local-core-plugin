{"version":3,"file":"create_institution.min.js","sources":["../src/create_institution.js"],"sourcesContent":["import * as Ajax from 'core/ajax';\nimport $ from 'jquery';\n\nconst saveInstitutionButton = $('#saveInstitutionButton')\nconst institutionNameInput = $('#name_institution')\nconst institutionIdInput = $('#id-institution')\nconst errorModal = $('#errorModal');\nconst errorModalContent = $('#error-modal-content');\n\nconst config = {\n    headers: { 'Content-Type': 'multipart/form-data' },\n}\n\n               \n\nconst inputs = [ institutionNameInput,institutionIdInput];\n\nexport const init = () => {\n    handleSaveButton()\n};\n\nconst handleSaveButton = () => {\n    saveInstitutionButton.click(()=> {\n        // Check the select inputs and the time inputs\n        const valid = inputs.every(input => {\n            return input.get(0).reportValidity();\n        });\n        if (!valid) {\n            return;\n        }\n        //\n        \n        const args = {\n            name: institutionNameInput.val(),\n            institutionId: institutionIdInput.val()\n\n        };\n        const promise = Ajax.call([{\n            methodname: 'local_grupomakro_create_institution',\n            args\n        }, ]);\n        promise[0].done(function(response) {\n            window.console.log(response);\n            if(response.institutionId === -1 ){\n                errorModalContent.html(`<p class=\"text-center\">${response.message}</p>`);\n                errorModal.modal('show');\n                return   \n            }\n            console.log(response.institutionId)\n            window.location.href = '/local/grupomakro_core/pages/institutionmanagement.php';\n        }).fail(function(error) {\n            console.error(error)\n        });\n    })\n}\n\n\n"],"names":["saveInstitutionButton","institutionNameInput","institutionIdInput","errorModal","errorModalContent","inputs","handleSaveButton","click","every","input","get","reportValidity","args","name","val","institutionId","Ajax","call","methodname","done","response","window","console","log","html","message","modal","location","href","fail","error"],"mappings":"q4CAGMA,uBAAwB,qEAAE,0BAC1BC,sBAAuB,mBAAE,qBACzBC,oBAAqB,mBAAE,mBACvBC,YAAa,mBAAE,eACfC,mBAAoB,mBAAE,wBAQtBC,OAAS,CAAEJ,qBAAqBC,kCAElB,WAChBI,wBAGEA,iBAAmB,WACrBN,sBAAsBO,OAAM,cAEVF,OAAOG,OAAM,SAAAC,cAChBA,MAAMC,IAAI,GAAGC,yBAOlBC,KAAO,CACTC,KAAMZ,qBAAqBa,MAC3BC,cAAeb,mBAAmBY,OAGtBE,KAAKC,KAAK,CAAC,CACvBC,WAAY,sCACZN,KAAAA,QAEI,GAAGO,MAAK,SAASC,aACrBC,OAAOC,QAAQC,IAAIH,WACY,IAA5BA,SAASL,qBACRX,kBAAkBoB,sCAA+BJ,SAASK,sBAC1DtB,WAAWuB,MAAM,QAGrBJ,QAAQC,IAAIH,SAASL,eACrBM,OAAOM,SAASC,KAAO,4DACxBC,MAAK,SAASC,OACbR,QAAQQ,MAAMA"}