{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_grupomakro_core/create_contract

    Template purpose and description.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * attributes Array of name / value pairs.

    Example context (json):
    {
        "attributes": [
            { "name": "src", "value": "https://example.com/imgs/logo.png" },
            { "name": "class", "value": "iconsmall" }
        ]
    }
}}

<div class="container-fluid">   
    <div class="d-flex">
        {{! Class administration menu }}
        <div class="side-bar-class mr-2 d-none d-sm-block">
            {{! Class menu card }}
            <div class="card p-3">
                {{! Button to create classes }}
                <div class="pb-4">
                    <a type="button" class="btn btn-primary btn-block shadow-sm" href="{{createclass_url}}">{{#str}}create_class, local_grupomakro_core{{/str}}</a>
                </div>
                {{! End Button to create classes }}
                
                {{! Class filter }}
                <ul class="nav flex-column class-tabs">
                    {{! Tab all classes }}
                    <li class="nav-item ">
                        <a class="nav-link active d-flex align-items-center font-weight-bold" href="" data-toggle="tab" data-target="#all">
                            <i class="fa fa-mortar-board mr-3" style="font-size: 24px;"></i>
                            {{#str}}allclasses, local_grupomakro_core{{/str}}
                        </a>
                    </li>
                    {{! End Tab all classes }}
                </ul>
                {{! End Class filter }}
            </div>
            {{! End Class menu card }}
        </div>
        {{! End Class administration menu }}

        {{! Tab content classes }}
        <div class="tab-content">
            {{! Tab content all classes }}
            <div class="tab-pane active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div class="d-flex flex-wrap">
                    {{#allClasses}}
                    {{! Class card }}
                    <div class="card position-relative border-0 mx-2 mb-3 shadow-sm" style="width: 320px;">
                        <div class="v-alert__border v-alert__border--top"></div>
                        <div class="card-body position-relative pb-2">
                            {{! Class name }}
                            <h6 class="card-title">{{name}}</h6>
                            
                            {{! Class instructors }}
                            <div class="d-flex mb-2">
                                <i class="mr-3">
                                    <img src="{{instructorProfileImage}}" class="rounded-circle" style="width:40px"/>
                                </i>
                                <div class="d-flex flex-column">
                                    <span>{{instructorName}}</span>
                                    <span class="text-primary">Instructor</span>
                                </div>
                            </div>
                            {{! End Class instructors }}
                            
                            {{! Class details }}
                            <div class="d-flex pl-2 flex-column">
                                {{! Class type }}
                                <div class="mb-1">
                                    <i class="{{icon}} mr-1"></i>
                                    {{typelabel}}
                                </div>
                                {{! End Class type }}
                                
                                {{! Class start date }}
                                <div class="mb-1">
                                    <i class="fa fa-calendar-o mr-2"></i>
                                    <span class="text-muted startdate">{{startDate}}</span>
                                </div>
                                {{! End Class start date }}
                                
                                {{! Class schedule }}
                                <div class="mb-1">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span class="text-muted startdate">{{inithourformatted}}</span>
                                    <small class="text-muted">{{classDaysString}}</small>
                                </div>
                                {{! End Class schedule }}
                            </div>
                            {{! End Class details }}
                        </div>
                        
                        <div class="card-footer d-flex">
                            <div class="spacer"></div>
                            {{! Options }}
                            <div class="options">
                                {{! Edit }}
                                <a data-toggle='tooltip' data-placement='bottom' title="{{#str}} modify, local_grupomakro_core{{/str}}" href="/local/grupomakro_core/pages/editclass.php?class_id={{id}}">
                                    <i class="fa fa-gear mx-1 text-secondary" style="font-size:20px"></i>
                                </a>
                                {{! End Edit }}
                                
                                {{! Delete }}
                                <a data-placement='bottom' title="{{#str}} remove, local_grupomakro_core{{/str}}" data-toggle='modal' class="deleteButton" class-id="{{id}}" data-target='#deleteClassModalCenter'>
                                    <i class="fa fa-trash mx-1" style="font-size:20px"></i>
                                </a>
                                {{! End Delete }}
                            </div>
                            {{! End Options }}
                        </div>
                    </div>
                    {{! End Class card }}
                    {{/allClasses}}
                </div>
            </div>
            {{! ENd Tab content all classes }}
        </div>
        {{! Tab content classes }}
    </div>
</div>
{{> local_grupomakro_core/modals/modal_delete_class }}